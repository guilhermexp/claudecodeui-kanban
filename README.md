# Claude Code UI

üöÄ **Interface web moderna e inteligente para Claude Code CLI** com sistema integrado de gerenciamento de tarefas, prote√ß√£o de portas e acesso p√∫blico via t√∫nel.

![Main Interface](./public/screenshots/05-main-interface-overview.png)

## üì∏ **Preview da Aplica√ß√£o**

<div align="center">

| Terminal Integrado | Dashboard Analytics | Vibe Kanban Tasks |
|:--:|:--:|:--:|
| ![Terminal](./public/screenshots/06-terminal-shell-interface.png) | ![Dashboard](./public/screenshots/07-dashboard-analytics.png) | ![Tasks](./public/screenshots/03-vibe-kanban-tasks.png) |

| File Browser | Git Integration | MCP Settings |
|:--:|:--:|:--:|
| ![Files](./public/screenshots/08-file-browser-interface.png) | ![Git](./public/screenshots/09-git-integration-panel.png) | ![MCP](./public/screenshots/01-mcp-servers-settings.png) |

</div>

## ‚ú® **Recursos Principais**

### üñ•Ô∏è **Interface Completa**
- **Terminal Integrado**: Execute Claude Code diretamente na interface web com XTerm.js
- **Explorador de Arquivos**: Navegue e edite arquivos com syntax highlighting CodeMirror 6
- **Git Integrado**: Gerencie branches, commits e opera√ß√µes git em tempo real
- **Dashboard Analytics**: Acompanhe tokens, custos e estat√≠sticas de uso detalhadas
- **Sistema de Tarefas**: Vibe Kanban integrado para gerenciamento de projetos e workflows

### üõ°Ô∏è **Prote√ß√£o Inteligente**
- **Prote√ß√£o Autom√°tica de Portas**: Previne conflitos entre dev e produ√ß√£o
- **Sistema de Limpeza**: Remove processos √≥rf√£os do Vibe Kanban automaticamente
- **Detec√ß√£o de Conflitos**: Identifica e resolve automaticamente interfer√™ncias
- **Troca Segura de Modos**: Switching inteligente entre desenvolvimento e produ√ß√£o
- **Monitoramento Cont√≠nuo**: Supervis√£o em tempo real dos processos

### üåê **Acesso P√∫blico**
- **T√∫nel Ngrok**: Acesso global via `https://claudecode.ngrok.app`
- **Modo Produ√ß√£o**: Deploy autom√°tico com build otimizado
- **Verifica√ß√£o de Conectividade**: Ferramentas para testar acesso p√∫blico
- **HTTPS Ready**: Configura√ß√£o para produ√ß√£o segura

### üì± **Experi√™ncia Moderna**
- **Totalmente Responsivo**: Interface otimizada para desktop e mobile
- **PWA Support**: Instala√ß√£o como app nativo
- **Modo Escuro**: Tema adapt√°vel autom√°tico
- **Transcri√ß√£o de Voz**: Comandos por voz com OpenAI Whisper
- **Drop & Upload**: Drag-and-drop de imagens direto no terminal

![Mobile View](./public/screenshots/10-mobile-responsive-view.jpg)

## üöÄ **In√≠cio R√°pido**

### üì¶ **Instala√ß√£o**
```bash
# Clone e instale
git clone https://github.com/seu-usuario/claudecodeui.git
cd claudecodeui
npm install
```

### üíª **Desenvolvimento Local**
```bash
# Inicia todos os servi√ßos com prote√ß√£o de portas
npm run dev
```
**Acesse:** http://localhost:9000  
**Portas usadas:** Frontend(9000), Backend(8080), Vibe Kanban(8081)

### üåç **Produ√ß√£o com Acesso P√∫blico**
```bash
# Inicia produ√ß√£o + t√∫nel ngrok (autom√°tico)
./start-background-prod.sh

# Verifica conectividade global
./check-tunnel.sh
```
**Acesse de qualquer lugar:** https://claudecode.ngrok.app

## üîß **Gerenciamento de Sistema** 

### Comandos de Prote√ß√£o
```bash
# Verificar status atual
npm run port-status

# Trocar para produ√ß√£o (para dev automaticamente)
npm run switch-to-prod

# Trocar para desenvolvimento (para prod automaticamente) 
npm run switch-to-dev

# Parar tudo em caso de emerg√™ncia
npm run stop-all

# Monitorar sistema de limpeza
npm run cleanup-status
npm run cleanup-force
```

### Por Que Isso √© Importante?
Antes, executar `npm run dev` e depois `./start-background-prod.sh` causava:
- ‚ùå Conflitos de porta (EADDRINUSE)
- ‚ùå Processos interferindo uns com os outros
- ‚ùå Necessidade de cleanup manual
- ‚ùå Vibe Kanban ficando sobrecarregado com processos √≥rf√£os

**Agora:** O sistema detecta automaticamente conflitos e resolve de forma inteligente.

## üìã **Pr√©-requisitos**

### Essenciais
- **Node.js 18+**
- **Claude Code CLI** instalado: `npm install -g @anthropic-ai/claude-code`
- **Token Claude** v√°lido configurado

### Opcionais
- **Rust/Cargo** (para Vibe Kanban backend)
- **Ngrok** (para acesso p√∫blico) - `brew install ngrok`
- **OpenAI API Key** (para transcri√ß√£o de voz)

## üèóÔ∏è **Arquitetura do Sistema**

### üñºÔ∏è **Tr√™s Servi√ßos Integrados**

#### 1. **Frontend (React/Vite)** - Porto 9000
- React 18 com hooks modernos
- Tailwind CSS + modo escuro
- CodeMirror 6 (syntax highlighting)
- XTerm.js (terminal emulation)
- PWA com service worker

#### 2. **Backend (Node.js/Express)** - Porto 8080  
- WebSocket para terminal em tempo real
- SQLite para projetos e analytics
- JWT authentication
- Proxy para Claude Code CLI
- API RESTful completa
- Sistema de limpeza de processos √≥rf√£os

#### 3. **Vibe Kanban (Rust/Actix)** - Porto 8081
- Sistema avan√ßado de tarefas
- Integra√ß√£o Git nativa
- Database SQLite compartilhado
- Performance otimizada
- Limpeza autom√°tica de processos travados

### üìä **Fluxo de Dados**
```
Frontend ‚Üê‚Üí Backend ‚Üê‚Üí Claude CLI
    ‚Üì         ‚Üì
    ‚Üì    Vibe Kanban
    ‚Üì         ‚Üì
   PWA    SQLite DB
```

## ‚≠ê **Funcionalidades Principais**

### 1. **Terminal Shell Integrado**
![Terminal Interface](./public/screenshots/06-terminal-shell-interface.png)

- **Claude Code Integration**: Execute comandos Claude diretamente
- **Real-time Streaming**: Respostas em tempo real via WebSocket  
- **Image Drop & Upload**: Drag-and-drop de imagens no terminal
- **Voice Transcription**: Comandos por voz com Whisper API
- **Session Management**: M√∫ltiplas sess√µes de terminal
- **Command History**: Hist√≥rico persistente de comandos

### 2. **File Browser & Editor**
![File Browser](./public/screenshots/08-file-browser-interface.png)

- **Split-view Editing**: Browse e edite arquivos lado a lado
- **Syntax Highlighting**: CodeMirror 6 com suporte a m√∫ltiplas linguagens
- **File Tree Navigation**: Navega√ß√£o hier√°rquica de arquivos
- **Live Preview**: Preview de imagens e documentos
- **Auto-save**: Salvamento autom√°tico durante edi√ß√£o
- **Search & Replace**: Busca e substitui√ß√£o avan√ßada

![File Editor](./public/screenshots/02-file-editor-settings.png)

### 3. **Git Integration**
![Git Panel](./public/screenshots/09-git-integration-panel.png)

- **Branch Management**: Cria√ß√£o, troca e merge de branches
- **Commit Operations**: Staging, commits e push em tempo real
- **Diff Viewer**: Visualiza√ß√£o de diferen√ßas com highlighting
- **History Timeline**: Hist√≥rico de commits com navega√ß√£o
- **Conflict Resolution**: Resolu√ß√£o de conflitos integrada
- **Remote Sync**: Sincroniza√ß√£o com reposit√≥rios remotos

### 4. **Vibe Kanban Tasks**
![Vibe Kanban](./public/screenshots/03-vibe-kanban-tasks.png)

- **Kanban Board**: Quadro visual de tarefas (To Do, In Progress, Done)
- **Task Management**: CRUD completo de tarefas com categorias
- **Project Integration**: Integra√ß√£o nativa com projetos Claude
- **Git Workflow**: Branches autom√°ticos por tarefa
- **Quick Panel**: Painel lateral r√°pido no Claude Code UI
- **Progress Tracking**: Acompanhamento detalhado de progresso

### 5. **Dashboard Analytics**
![Dashboard](./public/screenshots/07-dashboard-analytics.png)

- **Token Usage**: Monitoramento de tokens input/output
- **Cost Tracking**: C√°lculo de custos baseado em pre√ßos Anthropic
- **Session Analytics**: Dura√ß√£o, mensagens, taxa de sucesso
- **Performance Metrics**: Tempo de resposta, taxa de erro
- **Usage Trends**: Gr√°ficos e tend√™ncias de uso
- **Export Data**: Exporta√ß√£o de dados para an√°lise

### 6. **MCP Servers Integration**
![MCP Settings](./public/screenshots/01-mcp-servers-settings.png)

- **Context7 Integration**: Documenta√ß√£o de bibliotecas em tempo real
- **GitHub Integration**: Acesso a reposit√≥rios e APIs
- **Custom Servers**: Adi√ß√£o de servidores MCP personalizados
- **Tool Management**: Habilita√ß√£o/desabilita√ß√£o de ferramentas
- **Configuration UI**: Interface visual para configura√ß√£o
- **Server Health**: Monitoramento de status dos servidores

### 7. **Project Selection & Management**
![Project Selection](./public/screenshots/04-project-selection-screen.png)

- **Multi-project Support**: Gerenciar m√∫ltiplos projetos Claude
- **Session History**: Hist√≥rico completo de conversas
- **Project Switching**: Troca r√°pida entre projetos
- **Auto-detection**: Detec√ß√£o autom√°tica de novos projetos
- **Custom Icons**: √çcones personalizados por tipo de projeto
- **Search & Filter**: Busca e filtros avan√ßados

## ‚öôÔ∏è **Configura√ß√£o Avan√ßada**

### üîê **Vari√°veis de Ambiente** (Opcional)
```env
# .env (na raiz do projeto)
JWT_SECRET=seu_jwt_secret_seguro
OPENAI_API_KEY=sk-xxx  # Para transcri√ß√£o de voz
PORT=8080              # Backend
VITE_PORT=9000         # Frontend  
VIBE_PORT=8081         # Vibe Kanban
```

### üîë **Autentica√ß√£o**
- Primeiro acesso: Cria usu√°rio automaticamente
- JWT tokens com renova√ß√£o autom√°tica
- Sessions persistentes entre reinicializa√ß√µes
- Prote√ß√£o de rotas com middleware

### üõ°Ô∏è **Seguran√ßa**
- **Tools Disabled by Default**: Todas ferramentas precisam ser habilitadas explicitamente
- **JWT Authentication**: Tokens seguros com renova√ß√£o autom√°tica
- **Port Protection**: Monitoramento contra processos n√£o autorizados
- **Input Validation**: Valida√ß√£o rigorosa de todas entradas
- **HTTPS Ready**: Configura√ß√£o para produ√ß√£o segura

## üõ†Ô∏è **Comandos Completos**

### Desenvolvimento
```bash
npm install            # Instalar depend√™ncias
npm run dev           # Desenvolvimento com prote√ß√£o (RECOMENDADO)
npm run server        # Apenas backend (debugging)
npm run client        # Apenas frontend (debugging)  
npm run vibe-backend  # Apenas Vibe Kanban (debugging)
./start-network.sh    # Desenvolvimento com acesso rede (0.0.0.0)
```

### Produ√ß√£o  
```bash
npm run build                # Build para produ√ß√£o
./start-background-prod.sh   # Produ√ß√£o + t√∫nel p√∫blico
./check-tunnel.sh           # Verificar conectividade
npm start                   # Produ√ß√£o local (sem t√∫nel)
```

### Gerenciamento de Sistema (macOS)
```bash
./claudecode-service.sh install    # Instalar como servi√ßo sistema
./claudecode-service.sh status     # Status do servi√ßo
./claudecode-service.sh uninstall  # Remover servi√ßo
```

### Utilit√°rios
```bash
npm run port-status       # Status atual dos processos
npm run protect-ports     # Executar apenas prote√ß√£o de portas
npm run cleanup-status    # Status do sistema de limpeza
npm run cleanup-force     # For√ßar limpeza de processos √≥rf√£os
node scripts/test-cleanup-system.js  # Testar sistema de limpeza
```

## üö® **Resolu√ß√£o de Problemas**

### ‚ùå **Erro: Port Already in Use**
```bash
npm run port-status  # Ver o que est√° rodando
npm run stop-all     # Parar tudo
npm run dev          # Ou ./start-background-prod.sh
```

### ‚ùå **Terminal n√£o aceita input**
- Atualizar p√°gina (F5)
- Verificar console do navegador
- Reiniciar: `npm run dev`

### ‚ùå **Vibe Kanban n√£o carrega**
```bash
cd vibe-kanban
cargo build --release
npm run dev
```

### ‚ùå **Dashboard sem dados**
- Verificar aba Network no navegador
- Confirmar permiss√µes em `~/.claude/projects/`
- Usar Claude CLI pelo menos uma vez

### ‚ùå **Processos √≥rf√£os Vibe Kanban**
```bash
npm run cleanup-status  # Verificar sistema de limpeza
npm run cleanup-force   # For√ßar limpeza manual
```

## üìÅ **Estrutura do Projeto**

```
claudecodeui/
‚îú‚îÄ‚îÄ src/                    # Frontend React
‚îÇ   ‚îú‚îÄ‚îÄ components/         # Componentes React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx   # Dashboard de analytics
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Shell.jsx       # Terminal integrado
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FileTree.jsx    # Navegador de arquivos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GitPanel.jsx    # Painel Git
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VibeTaskPanel.jsx # Painel Vibe Kanban
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ contexts/          # Context providers
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # Utilit√°rios frontend
‚îú‚îÄ‚îÄ server/                # Backend Node.js  
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # Endpoints API
‚îÇ   ‚îú‚îÄ‚îÄ database/          # SQLite management
‚îÇ   ‚îú‚îÄ‚îÄ cleanupService.js  # Sistema limpeza processos
‚îÇ   ‚îî‚îÄ‚îÄ middleware/        # Express middleware
‚îú‚îÄ‚îÄ scripts/               # Scripts de automa√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ dev.js             # Orquestrador desenvolvimento
‚îÇ   ‚îú‚îÄ‚îÄ port-protection.js # Prote√ß√£o de portas
‚îÇ   ‚îú‚îÄ‚îÄ port-management.js # Gerenciamento inteligente
‚îÇ   ‚îî‚îÄ‚îÄ test-cleanup-system.js # Testes limpeza
‚îú‚îÄ‚îÄ vibe-kanban/           # Sistema tarefas Rust
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ screenshots/       # Screenshots da aplica√ß√£o
‚îî‚îÄ‚îÄ docs/                  # Documenta√ß√£o completa
```

## üéØ **Casos de Uso**

### üë®‚Äçüíª **Para Desenvolvedores**
- Desenvolvimento com Claude Code em interface web moderna
- Gerenciamento visual de projetos e tarefas
- Analytics de uso e custos em tempo real
- Workflow git integrado e automatizado

### üåê **Para Acesso Remoto** 
- Trabalho remoto via t√∫nel p√∫blico seguro
- Demonstra√ß√µes para clientes com interface profissional
- Colabora√ß√£o em equipe com sess√µes compartilhadas
- Acesso mobile responsivo para desenvolvimento em movimento

### üè¢ **Para Times**
- Sistema de tarefas colaborativo com Vibe Kanban
- Tracking de custos centralizados e relat√≥rios
- Sess√µes compartilhadas para pair programming
- Monitoramento de uso e produtividade

## ü§ù **Suporte & Contribui√ß√£o**

### üêõ **Reportar Problemas**
- Abra uma issue detalhada no GitHub
- Inclua logs relevantes (`npm run dev` output)
- Descreva steps para reproduzir
- Anexe screenshots se relevante

### üéâ **Contribui√ß√µes**
- Fork o reposit√≥rio
- Crie branch para feature/fix
- Teste localmente com `npm run dev`
- Abra Pull Request com descri√ß√£o detalhada
- Siga os padr√µes de c√≥digo existentes

## üìÑ **Licen√ßa**

MIT License - veja [LICENSE](LICENSE) para detalhes.

---

## ‚≠ê **Features em Desenvolvimento**

- [ ] Multi-language support
- [ ] Plugin system para extens√µes
- [ ] Advanced analytics com machine learning
- [ ] Team collaboration features avan√ßadas
- [ ] Docker containerization completa
- [ ] Cloud deployment options (AWS, GCP, Azure)
- [ ] Real-time collaboration
- [ ] Advanced file search e indexing
- [ ] AI-powered code suggestions
- [ ] Integration com mais MCP servers

---

## üöÄ **Como Come√ßar**

**Desenvolvimento:**
```bash
npm install && npm run dev
```

**Acesso p√∫blico:**
```bash  
./start-background-prod.sh
```

**Problemas?**
```bash
npm run port-status && npm run stop-all
```

**Precisa de ajuda?** Abra uma [issue](https://github.com/seu-usuario/claudecodeui/issues) ou consulte a [documenta√ß√£o completa](./CLAUDE.md).

---

<div align="center">
  <strong>Desenvolvido com ‚ù§Ô∏è para a comunidade Claude Code</strong>
</div>